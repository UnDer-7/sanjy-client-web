<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <title>Error - Sanjy Client</title>
    <link rel="stylesheet" th:href="@{/css/error.css}">
</head>
<body>
    <div class="error-container">
        <div class="error-icon">⚠️</div>
        <h1 class="error-title">Oops!</h1>
        <p class="error-message" th:text="${errorUserMessage}" id="errorMessage">Something went wrong.</p>
        <p class="error-description">
            We encountered a problem processing your request.
            Please try again later.
        </p>
        <div class="error-details">
            <p><strong>Error Code:</strong> <span th:text="${errorUserCode}">ERR-000</span></p>
            <p><strong>Timestamp:</strong> <span th:text="${errorTimestamp}">-</span></p>
        </div>
        <div class="error-actions">
            <a th:href="@{/}" class="btn-primary">Back to Home</a>
            <button onclick="location.reload()" class="btn-secondary">Try Again</button>
        </div>
    </div>

    <script th:inline="javascript">
        /*<![CDATA[*/
        // Log error to browser console for debugging
        const errorMessage = /*[[${errorUserMessage}]]*/ 'Something went wrong.';
        const errorCode = /*[[${errorUserCode}]]*/ 'ERR-000';
        const errorTimestamp = /*[[${errorTimestamp}]]*/ new Date().getTime();

        console.error('Application Error:', {
            message: errorMessage,
            code: errorCode,
            timestamp: errorTimestamp,
            url: window.location.href,
            userAgent: navigator.userAgent
        });
        /*]]>*/
    </script>
</body>
</html>
